/**
 * ekathuwa
 * @version v0.2.1 - 2013-12-09
 * @link https://github.com/sarath2/ngEkathuwa
 * @author Sarath Ambegoda <sarath2mail@gmail.com>
 * @license MIT License, http://www.opensource.org/licenses/MIT
 */
!function(a,b){"use strict";angular.module("ngEkathuwa",[]),function(){angular.module("ngEkathuwa",[]),angular.module("ngEkathuwa",[]).run(["$rootScope","$ekathuwa",function(a,b){a.$ekathuwa=b}]).provider("$ekathuwa",function(){this.$get=["$compile","$rootScope","$timeout","$q",function(a,b,c,d){return this.modal=function(c){var e={id:"ekathuwaModalID",scope:b.$new(),controller:null,backdrop:!0,keyboard:!0,remote:!1,show:!0,modalClass:"fade",role:"dialog",contentStyle:null,contentCustomSize:0,contentPreSize:"df",templateURL:null,templateHTML:null,bodyTemplateURL:null,bodyTemplate:null,header:!0,headerText:null,headerClass:"",headerTemplate:null,headerCloseBtn:!0,footer:!0,footerClass:"",footerTemplate:null,footerCloseBtn:!0,footerCloseBtnText:"Close",footerSaveBtn:!1,footerSaveBtnText:"Save changes"},f="",g="",h="",i="",j="",k="";c=angular.extend(e,c);var l={backdrop:c.backdrop,keyboard:c.keyboard,remote:c.remote,show:c.show},m="#"+c.id+" .modal";if(h=c.controller?"data-ng-controller="+c.controller:"",null!==c.templateURL&&""!==c.templateURL)f="<div "+h+' id="'+c.id+'" data-ng-include="\''+c.templateURL+'\'" onload="ekathuaLoaded()"></div>';else{var n="<div "+h+' id="'+c.id+'">';if(null!==c.templateHTML&&""!==c.templateHTML)f=n+c.templateHTML+"</div>";else{if(i=null!==c.bodyTemplateURL&&""!==c.bodyTemplateURL?'<div class="modal-body" data-ng-include="\''+c.bodyTemplateURL+'\'" onload="ekathuaLoaded()"></div>':null!==c.bodyTemplate&&""!==c.bodyTemplate?'<div class="modal-body">'+c.bodyTemplate+"</div>":'<div class="modal-body">Ekathuwa modal body.</div>',c.header)if(null!==c.headerTemplate&&""!==c.headerTemplate)k='<div class="modal-header '+c.headerClass+'">'+c.headerTemplate+"</div>";else{var o="";null!==c.headerText&&""!==c.headerText&&(o='<h4 id="myModalLabel" class="modal-title">'+c.headerText+"</h4>"),k='<div class="modal-header '+c.headerClass+'"><button data-ng-if="'+c.headerCloseBtn+'" aria-hidden="true" data-dismiss="modal" class="close" type="button">Ã—</button>'+o+"</div>"}c.footer&&(j=null!==c.footerTemplate&&""!==c.footerTemplate?'<div class="modal-footer '+c.footerClass+'">'+c.footerTemplate+"</div>":'<div class="modal-footer '+c.footerClass+'"><button data-ng-if="'+c.footerCloseBtn+'" data-dismiss="modal" class="btn btn-default" type="button">'+c.footerCloseBtnText+'</button><button data-ng-if="'+c.footerSaveBtn+'" class="btn btn-primary" type="button">'+c.footerSaveBtnText+"</button></div>"),f=n+'<div aria-hidden="true" aria-labelledby="myModalLabel" role="dialog" tabindex="-1" class="modal fade" id="myModal" style="display: none;"><div class="modal-dialog"><div class="modal-content">'+k+i+j+"</div></div></div></div>"}}switch(null!==c.contentStyle&&""!==c.contentStyle&&(g=c.contentStyle),0!==c.contentCustomSize&&angular.isNumber(c.contentCustomSize)&&""!==c.contentCustomSize&&null!==c.contentCustomSize&&(g=g+";width: "+c.contentCustomSize+"%;"),c.contentPreSize){case"sm":g+=";width:25%;";break;case"md":g+=";width:50%;";break;case"lg":g+=";width:75%;";break;case"fl":g+=";width:98%;"}var p="#"+c.id+" .modal-dialog { "+g+"} @media (max-width: 768px) {#"+c.id+" .modal-dialog {width:90%;}}";angular.element("#ekathuwaSt"+c.id).remove(),angular.element("head").append('<style id="ekathuwaSt'+c.id+'">'+p+"</style>"),angular.element("#"+c.id).remove();var q=angular.element(f);angular.element("body").append(q);var r=d.defer();return c.scope.ekathuaLoaded=function(){r.resolve(angular.element(m).modal(l))},a(q)(c.scope),null!==c.templateURL&&""!==c.templateURL||r.resolve(angular.element(m).modal(l)),r.promise},this}]})}(a,b)}(window,document);